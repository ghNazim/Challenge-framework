:root {
  --glowing-orange: #fdbe35;
  --font-size-standard: 1.7vw;
  --bg-color: #1a3a4a;
  --main-card-bg: #c4b5fd;
  --secondary-card-bg: #a78bfa;
  --text-color: #ffffff;
  --speaker-bg: #e5e7eb; /* gray-200 */
  --speaker-icon-color: #374151; /* gray-700 */
  --light-blue: #4e73d9;
  --dark-blue: #1d4ed8;
  --darker-blue: #1e40af;
  --light-pink: #f472b6;
  --dark-pink: #db2777;
  --button-pulse-color: rgba(219, 39, 119, 0.7);

}

#applet {
  width: 100%;
  height: 100%;
  font-size: var(--font-size-standard);
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
}

#box-container {
  width: 100%;
  height: 80%;
  display: flex;
  justify-content: center;
  gap: 3em;
  align-items: center;
}
#ten-widget{
  display: none;
}
#unit-widget{
  display: none;
}
.widget-container {
  position: relative;
  width: 100%;
  max-width: 24rem; /* 384px */
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
}

.main-card {
  position: relative;
  background-color: var(--main-card-bg);
  border-radius: 1.5rem; /* 24px */
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  padding: .5em;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem; /* 24px */
}

.number-tab {
  position: absolute;
  top: -1.5rem; /* -24px */
  background-color: var(--secondary-card-bg);
  padding: 0.5rem 1.5rem; /* 8px 24px */
  border-radius: 0.75rem; /* 12px */
  color: var(--text-color);
  font-size: 2.25rem; /* 36px */
  font-weight: 900;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.inner-card {
  width: 100%;
  border-radius: 1.5rem; /* 24px */
  padding: 1.6vw; /* 24px */
  margin-top: 2.5vw; /* 32px */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1vw; /* 24px */
  box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
  box-sizing: border-box;
}
#unit-widget .inner-card {
  background-color: var(--light-pink);
}
#ten-widget .inner-card {
  background-color: var(--light-blue);
}

/* --- Interactive Elements --- */
#unit-widget .squares-container {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  align-items: center;
  justify-items: center;
  gap: 0.75rem; /* 12px */
  width: 100%;
  height: calc(var(--font-size-standard) * 7);
}

#ten-widget .squares-container {
  height: calc(var(--font-size-standard) * 7);
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 0.75rem;
  width: 100%
}
.ten-bar{
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border-radius: 0.5rem; /* 8px */
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  
}
.ten-bar>.unit-box{
  width: calc(var(--font-size-standard)*.7);
  aspect-ratio: 1/1;
  background-color: var(--dark-blue);
  border: 1px solid var(--darker-blue);
  visibility: hidden;
  
}

.count-square {
  width: 2.5rem; /* 40px */
  height: 2.5rem; /* 40px */
  border-radius: 0.5rem; /* 8px */
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

#unit-widget .count-square {
  background-color: var(--dark-pink);
}

.controls {
  display: flex;
  justify-content: space-around;
  width: 100%;
}

.control-btn {
  color: var(--text-color);
  width: 4rem; /* 64px */
  height: 4rem; /* 64px */
  border-radius: 9999px; /* full circle */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3rem; /* 48px */
  font-weight: 700;
  line-height: 1;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  border: none;
  cursor: pointer;
  pointer-events: none;
}
#unit-widget .control-btn {
  background-color: var(--dark-pink);
}
#ten-widget .control-btn {
  background-color: var(--dark-blue);
}
.text-display {
  color: var(--text-color);
  font-size: 3rem; /* 48px */
  font-weight: 900;
  margin: 0;
}

.speaker-btn {
  position: absolute;
  bottom: -1.25rem; /* -20px */
  right: -1.25rem; /* -20px */
  background-color: var(--speaker-bg);
  width: 4rem; /* 64px */
  height: 4rem; /* 64px */
  border-radius: 9999px; /* full circle */
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  border: none;
  cursor: pointer;
}

.speaker-icon {
  height: 2rem; /* 32px */
  width: 2rem; /* 32px */
  fill: var(--speaker-icon-color);
}

/* --- Effects & Transitions --- */
.btn-press {
  transition: transform 0.1s ease, box-shadow 0.1s ease;
}
.btn-press:active {
  transform: translateY(2px);
  box-shadow: none;
}

#statements{
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.comment{
  background-color: white;
  padding: 1rem;
  border-radius: 8px;
  margin: 0 2rem;
  display: none;
  width: 100%;
  text-align: center;
}
@keyframes vibrate-x {
  0% {
    left: 0;
  }
  20% {
    left: -2px;
  }
  40% {
    left: 2px;
  }
  60% {
    left: -2px;
  }
  80% {
    left: 2px;
  }
  100% {
    left: 0;
  }
}
@keyframes pulse-highlight {
  0% {
      box-shadow: 0 0 0 0 var(--button-pulse-color);
  }
  70% {
      box-shadow: 0 0 0 2vw rgba(219, 39, 119, 0);
  }
  100% {
      box-shadow: 0 0 0 0 rgba(219, 39, 119, 0);
  }
}
.pulse-highlight {
  animation: pulse-highlight 1.5s infinite;
}
.vibrate-x {
  position: relative;
  animation: vibrate-x 0.3s ease-in-out infinite;
}

/* Arrow container styles */
.arrow-indicator-container {
  background-color: var(--secondary-card-bg);
  width: 10vw;
  border-radius: 2vw;
  padding: 1.5vw;
  justify-content: center;
  align-items: center;
  gap: .2vw;
  display: none;
  cursor: pointer;
  &:hover {
    scale: 1.05;
  }
}

/* Arrow head styles */
.arrow-head {
  width: 2vw;
  height: 2vw;
  border-top: .5vw solid transparent;
  border-right: .5vw solid transparent;
  transform: rotate(-135deg);
  animation: flash-arrow-sequential 1.2s infinite;
}

.left-dir .arrow-head {
  transform: rotate(-135deg);
}
.right-dir .arrow-head {
  transform: rotate(45deg);
}

/* Staggered animation delays for sequential flashing (right to left) */
.left-dir .arrow-head:nth-child(1) { /* Leftmost arrow */
  animation-delay: 0.8s;
}
.left-dir .arrow-head:nth-child(2) { /* Middle arrow */
  animation-delay: 0.4s;
}
.left-dir .arrow-head:nth-child(3) { /* Rightmost arrow */
  animation-delay: 0s;
}
.right-dir .arrow-head:nth-child(1) { /* Leftmost arrow */
  animation-delay: 0s;
}
.right-dir .arrow-head:nth-child(2) { /* Middle arrow */
  animation-delay: 0.4s;
}
.right-dir .arrow-head:nth-child(3) { /* Rightmost arrow */
  animation-delay: .8s;
}


@keyframes flash-arrow-sequential {
  /* The arrow is "on" for a small portion of the animation cycle */
  0%, 20%, 100% {
      border-right-color: rgba(255, 255, 255, 0.3);
      border-top-color: rgba(255, 255, 255, 0.3);
  }
  5%, 15% {
      border-right-color: white;
      border-top-color: white;
  }
}
.visible{
  display: flex;
}

.outlined {
  outline: 3px solid var(--glowing-orange);
}